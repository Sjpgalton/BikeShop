@model Redweb.BikeShop.Core.ViewModels.ProductViewModel
@{
    ViewBag.Title = Model.PageHeading;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<body class="voffset5">
<h3>@Model.PageHeading</h3>
@using (Html.BeginForm(Model.Action, "Products"))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)
    <div class="form-group voffset3">
        @Html.Label("Product Code")
        @Html.TextBoxFor(m => m.ProductCode, new { @class = "form-control", autofocus = "autofocus" })
        @Html.ValidationMessageFor(m => m.ProductCode)
    </div>
    <div class="form-group">
        @Html.Label("Product Name")
        @Html.TextBoxFor(m => m.ProductName, new { @class = "form-control"})
        @Html.ValidationMessageFor(m => m.ProductName)
    </div>
    <div class="form-group">
        @Html.Label("Category")
        @Html.DropDownListFor(m => m.CategoryId, new SelectList(Model.Categories, "Id", "Name"), "", new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.CategoryId)
    </div>
    <div class="form-group">
        @Html.Label("Subcategory")
        @Html.DropDownListFor(m => m.SubcategoryId, new SelectList(Model.Subcategories, "Id", "Name"), "", new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.SubcategoryId)
    </div>
    <div class="form-group">
        @Html.Label("Model")
        @Html.DropDownListFor(m => m.ModelId, new SelectList(Model.Models, "Id", "Name"), "", new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.ModelId)
    </div>
    <div class="form-group">
        @Html.Label("Price (£)")
        <div>
            @Html.TextBoxFor(m => m.Price, new { @class = "span4", @min = "0",  @onkeypress="OnlyNumeric(this);" })
            @Html.ValidationMessageFor(m => m.Price)
        </div>
    </div>
    <div class="form-group">
        @Html.Label("Colour")
        @Html.DropDownListFor(m => m.ColourId, new SelectList(Model.Colours, "Id", "Name"), "", new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.Label("Size")
        @Html.DropDownListFor(m => m.SizeId, new SelectList(Model.Sizes, "Id", "Name"), "", new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Description)
        @Html.TextAreaFor(m => m.Description, new { @class = "form-control", rows = 12, cols = 10})
        @Html.ValidationMessageFor(m => m.Description)
    </div>
    <button type="submit" class="btn btn-primary btn-lg">Save Product</button>
}
</body>

@section scripts
{
    function OnlyNumeric(e) {
        if ((e.which < 48 || e.which > 57)) {
            if (e.which == 8 || e.which == 46 || e.which == 0) {
                return true;
            }
            else {
                return false;
            }
        }
    }
}
